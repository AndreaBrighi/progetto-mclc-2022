let
  class List (f:int, r:List) {
    fun first:int() f;
    fun rest:List() r;
  }
  var y:int = 5+2;
  fun g:bool ()
    let
      fun f:bool ()
        let
          var x:int = -1;
        in g();
    in if y==3 then { f() } else { false };
  var l: List = new List(5, null);
in
  print (
    if g()
      then { y }
      else { l.first() }
  );